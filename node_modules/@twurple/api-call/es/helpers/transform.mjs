import { HttpStatusCodeError } from "../errors/HttpStatusCodeError.mjs";
/** @private */
export async function transformTwitchApiResponse(response) {
    if (!response.ok) {
        throw new HttpStatusCodeError(response.status, response.statusText, await response.json());
    }
    if (response.status === 204) {
        return undefined; // oof
    }
    const text = await response.text();
    if (!text) {
        return undefined; // mega oof - Twitch doesn't return a response when it should
    }
    return JSON.parse(text);
}
